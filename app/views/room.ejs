<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<title>Room</title>

		<!-- Bootstrap Core CSS -->
		<link href="/css/bootstrap.min.css" rel="stylesheet">

		<!-- Custom CSS -->
		<link href="/css/simple-sidebar.css" rel="stylesheet">

		<!-- FONT ICONS -->
		<link rel="stylesheet" href="/icons/icons.css">

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

		<!-- CANVAS -->
		<link rel='stylesheet' href='/stylesheets/style.css' />
		<style type="text/css">
		body {
			overflow: hidden;
		}
		#canvas {
			width: 100%;
			height: 100%;
			position: fixed;
			top: 0;
			left: 0;
			z-index: 1;
		}
		</style>
		<script src="/js/jquery-2.1.1.min.js"></script>
		<script src="../js/raphael-min.js"></script>
		<style>
		    .col-md-2, .col-md-10{
		        padding:0;
		    }
		    .panel{
		        margin-bottom: 0px;
		    }
		    .chat-window{
		        width: 180px;
		        bottom:0;
		        right: 0;
		        position:fixed;
		        float:right;
		        z-index: 10000;
		        
		    }
		    .chat-window > div > .panel{
		        border-radius: 5px 5px 0 0;
		    }
		    .icon_minim{
		        padding:2px 10px;
		    }
		    .msg_container_base{
		        background: #e5e5e5;
		        margin: 0;
		        padding: 0 10px 10px;
		        max-height:300px;
		        overflow-x:hidden;
		    }
		    .top-bar {
		        background: #666;
		        color: white;
		        padding: 10px;
		        position: relative;
		        overflow: hidden;
		    }
		    .msg_receive{
		        padding-left:0;
		        margin-left:0;
		    }
		    .msg_sent{
		        padding-bottom:20px !important;
		        margin-right:0;
		    }
		    .messages {
		        background: white;
		        padding: 10px;
		        border-radius: 2px;
		        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
		        max-width:100%;
		    }
		    .messages > p {
		        font-size: 13px;
		        margin: 0 0 0.2rem 0;
		    }
		    .messages > time {
		        font-size: 11px;
		        color: #ccc;
		    }
		    .msg_container {
		        padding: 10px;
		        overflow: hidden;
		        display: flex;
		    }
		    img {
		        display: block;
		        width: 100%;
		    }
		    .avatar {
		        position: relative;
		    }
		    .base_receive > .avatar:after {
		        content: "";
		        position: absolute;
		        top: 0;
		        right: 0;
		        width: 0;
		        height: 0;
		        border: 5px solid #FFF;
		        border-left-color: rgba(0, 0, 0, 0);
		        border-bottom-color: rgba(0, 0, 0, 0);
		    }

		    .base_sent {
		        justify-content: flex-end;
		        align-items: flex-end;
		    }
		    .base_sent > .avatar:after {
		        content: "";
		        position: absolute;
		        bottom: 0;
		        left: 0;
		        width: 0;
		        height: 0;
		        border: 5px solid white;
		        border-right-color: transparent;
		        border-top-color: transparent;
		    }

		    .msg_sent > time{
		        float: right;
		    }
		    .msg_container_base::-webkit-scrollbar-track
		    {
		        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
		        background-color: #F5F5F5;
		    }

		    .msg_container_base::-webkit-scrollbar
		    {
		        width: 12px;
		        background-color: #F5F5F5;
		    }

		    .msg_container_base::-webkit-scrollbar-thumb
		    {
		        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
		        background-color: #555;
		    }

		    .btn-group.dropup{
		        position:fixed;
		        left:0px;
		        bottom:0;
		    }
	    </style>

	</head>

	<body>
		<div id="wrapper">

			<!-- Sidebar -->
			<div id="sidebar-wrapper">
				<ul class="sidebar-logo">
					<li> <a href="index.html" id="sidebar_logo"></a> </li>
				</ul>

				<ul class="sidebar-nav">
					<li><a href="#" title = "draw"><span class="icon-software-pencil"></span></a></li>
					<li><a id="addvideo" title = "video"><span class="icon-social-youtube-square"></span></a></li>
					<li><a href="#" title = "image"><span class="icon-basic-picture"></span></a></li>
					<li><a href="#" title = "code"><span class="icon-arrows-glide-horizontal"></a></li>
						<li><a href="#" title = "pdf"><span class="icon-easel"></span></a></li>
						<li><a href="#" title = "text"><span class="icon-ecommerce-receipt"></span></a></li>

						<!--<li> <a href="javascript:;" data-toggle="collapse" data-target="#demo">
						<span class="icon-man-people-streamline-user"></span><i class="fa fa-fw fa-caret-down"></i></a>
						<ul id="demo" class="collapse">
						<li> <a href="#">Dropdown Item</a> </li>
						<li> <a href="#">Dropdown Item</a> </li>
					</ul>
				</li>-->

			</ul>

			<div class="sidebar-footer">
				<a href="#" title = "user"><span class="icon-man-people-streamline-user"></span></a>
				<a href="#" title = "tools"><span class="icon-settings-streamline-1"></span></a>
			</div>

		</div>
		<!-- /#sidebar-wrapper -->

		<!-- Page Content -->
		<div id="page-content-wrapper">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<div id="canvas"></div>
						<h1>Room <span id="urlHeader"></span></h1>
						<p><%= message %></p>
						<hr>
						<p> Nickname: <%= nickname %> <br>
							Room URL: <span id="url"></span> <br>
							Board Count: <span id="bcount"></span> <br>
							<br>
							<b>Members</b>
							<ul id="members">
							</ul>
							<b>Moderators</b>
							<ul id="moderators">
							</ul>
							<b>Online</b>
							<ul id="onlineusers">
							</ul>
						</p>
						<p><a href="/logout">Logout</a></p>
						<script src="/socket.io/socket.io.js"></script>
						<script>
							var socket;
							var defaultsocket = io.connect();
							defaultsocket.on('connect',
								function() {
									socket = io.connect('http://' + window.location.host, { 'forcenewconnection': true } );
								}
							);
							var roomid = '<%= roomid %>';
							var nickname = '<%= nickname %>';
							var boardid = '<%= boardid %>';
							var userid = '<%= userid %>';
						</script>
						<script src="../js/client.js"></script>
					</div>
				</div>
			</div>
			
			<div class="container">
                <div class="chat-window" id="chat_window_1">
                    <div class="panel panel-default">
                        <div class="panel-heading top-bar">
                            <div class="col-md-8 col-xs-8">
                                <h3 class="panel-title"><span class="glyphicon glyphicon-comment"></span>Chat</h3>
                            </div>
                            <div class="col-md-4 col-xs-4" style="text-align: right;"> <a href="#"><span id="minim_chat_window" class="glyphicon glyphicon-minus icon_minim"></span></a> </div>
                        </div>
                        <div class="panel-body msg_container_base">
                            <div id="conversation"></div>  
                        </div>
	                	<div class="panel-footer">
		                    <div class="input group">
                            	<form action= "">
            						<input id="data" autocomplete="off" placeholder="Message"/>
            						<button>Send</button>
            
            					</form>
		                    </div>
	                	</div>
            		</div>
				</div>
			</div>
		</div>
		<script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
		<script src="/js/bootstrap.min.js"></script>
		<script>
		$("#menu-toggle").click(function(e) {
			e.preventDefault();
			$("#wrapper").toggleClass("toggled");
		});
		</script>
	</body>
</html>